<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
		<title>Estudio sobre el nivel de madurez del ecosistema de TIC en las IPS públicas</title>
		<link rel="stylesheet" href="static/reg_style.css">
		<link rel="stylesheet" media="screen" href ="static/bootstrap.min.css">
		<link rel="stylesheet" href="static/bootstrap-theme.min.css">
		<meta name="viewport" content = "width=device-width, initial-scale=1.0">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body>

    <!-- Funciones javascript -->
    <script type="text/javascript">
        //Diccionario de "Departamentos" y "Municipios" creados en Python.
        var cityLists = {{cities|safe}}
        function setlist(val,elm_id)
        {
                //Obtener indice del "Departamento" en el arreglo "cityLists"
                var idx = val.selectedIndex;
                //Obtener arreglo de "Municipios" a partir del valor seleccionado
                var which = val.options[idx].value;
                cList = cityLists[which];

                var cSelect = document.getElementById(elm_id);
                var len = cSelect.options.length;
                while (cSelect.options.length > 0) {
                cSelect.remove(0);
                }

				//Crear lista de cuidades
                var newOption;
				//Crear opción por defecto
				newOption = document.createElement("option");
				newOption.value = "";
				newOption.text = "Seleccionar";
				try
                    {
                        cSelect.add(newOption);  //this will fail in DOM browsers but is needed for IE
                    }
				catch (e)
                    {
                        cSelect.appendChild(newOption);
                    }
				//Crear lista de municipios
                for (var i=0; i<cList.length; i++)
                {
                    newOption = document.createElement("option");
                    newOption.value = cList[i];
                    newOption.text = cList[i];

                    try
                    {
                        cSelect.add(newOption);  //this will fail in DOM browsers but is needed for IE
                    }
                    catch (e)
                    {
                        cSelect.appendChild(newOption);
                    }
                }
            }
		
		function setfields()
		{
			alert("Hola");
			
		}
    </script>
    <!-- Funciones javascript -->

    <div class="jumbotron text-center">
      <h2>Estudio sobre el nivel de madurez del <br> ecosistema de TIC en las IPS públicas</h2>

	<br>

	<!--Logos-->
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <img src="static/udea.jpg" width="30%">
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
         <img src="static/colciencias.png"  width="40%">
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
         <img src="static/mintic.png"  width="100%">
      </div>
    </div>
    <!--Logos-->

    </div>

    <div class="wrapper">
    <form  action="preguntas" class="register" method="post">
		
    	<p class="title">Registro de IPS</p>
		
        <!-- COMIENZA: Campos: Departamento, ciudad -->		
        <div class = "row">
            <!-- Campo para departamento -->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
				<label>Departamento: </label><p>{{dpto}}</p>			  	
            </div>
            <!-- Campo para ciudad -->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
				<label>Municipio: </label><p>{{city}}</p>
            </div>
        </div>		
        <!-- TERMINA: Campos: Departamento, ciudad -->
		
		<br>
        
		<!-- COMIENZA: Campos: Nombre IPS-->
        
		<div class="row">
				<!--Campo para el Nombre de la IPS -->
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<label>Nombre de la IPS:</label>
				<br>				
				<input list="reg_ips" autofocus>
				<datalist id="reg_ips" name="reg_ips" onblur="setfields()" placeholder="Nombre de IPS" required>
					{% for value in IPS %}
						<option  value = "{{value}}">{{value}}</option>
					{% endfor %}
				</datalist> 
			</div>
        </div>
        
		<!-- TERMINA: Campos: Nombre IPS -->

        <br>

        <!-- COMIENZA: Campos: nombre gerente, Nivel-->
        <div class="row">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
            <!--Campo para el NIT -->
              <label>NIT</label>
			  <br>
              <input type="text" id="nit" name="nit" placeholder="NIT" required>
            </div>
			<!--Nombre del gerente-->
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                <label>Nombre del gerente</label>
			    <br>
                <input type="text"  id="ger" name="ger" placeholder="Nombre del gerente">
            </div>
            <!-- campo para Nivel de la IPS -->
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">			
				<label>Nivel de la IPS</label>
				<br>
				<label class="radio-inline">
					<input type="radio" id="opt_niv1" name="nivel" value="1" required>1
				</label>
				<label class="radio-inline">
					<input type="radio" id="opt_niv2" name="nivel" value="2" >2				
				</label>
				<label class="radio-inline">
					<input type="radio" id="opt_niv3" name="nivel" value="3" >3
				</label>
            </div>
        </div>
        <!-- TERMINA: nombre gerente, Nivel-->

        <br>
		
		<div class="row">			
            <!-- Campo para caracter de la IPS-->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
				<label for="car">Carácter de la IPS</label>
				<br>
				<select name="car" required>
					<option id="car" name="car" value="">Seleccionar</option>
					<option id="car" name="car" value="departamental">Departamental</option>
					<option id="car" name="car" value="distrital">Distrital</option>
					<option id="car" name="car" value="indigena">Indígena</option>
					<option id="car" name="car" value="municipal">Municipal</option>
					<option id="car" name="car" value="nacional">Nacional</option>
				</select>				
            </div>
            <!-- campo para telefono -->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <label for="tel">Teléfono de la IPS</label>
			  <br>
              <input type="tel"  id="tel" name="tel" placeholder="Teléfono de la IPS">
            </div>
		</div>
		
		<br>
		
        <!-- COMIENZA: Campos: Telefono, email, direccion -->
        <div class="row">
            <!-- campo para email -->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <label for="email">Email de la IPS:</label>
			  <br>
              <input type="text"  id="email" name="email" placeholder="ejemplo@mail.com">
            </div>
            <!-- Campo para direccion -->
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <label for="addr">Dirección de la IPS</label>
			  <br>
              <input type="text"  id="addr" name="addr" placeholder="Dirección de la IPS" required>
            </div>
        </div>
        <!-- TERMINA: Campos: telefono, email, direccion -->

        <br>

        <!-- COMIENZA: Campos: responsable encuesta, id y cargo -->
        <div class="row">
            <!-- campo nombre responsable -->
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <label for="username">Persona enlace</label>
			  <br>
              <input type="text"  id="username" name="username" placeholder="Nombre de responsable" required>
            </div>
            <!-- campo id -->
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <label>Cedula de ciudadania</label>
			  <br>
              <input type="text"  id="userid" name="userid" placeholder="C.C" required>
            </div>
            <!-- campo cargo -->
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <label for="userjob">Cargo</label>
			  <br>
              <input type="text"  id="userjob" name="userjob" placeholder="Cargo" required>
            </div>
        </div>
        <!-- TERMINA: Campos: responsable encuesta, id y cargo -->

        <br>

		<!-- COMIENZA: Botones -->
		<div class="row">
			<!-- Boton para continuar a la encuesta -->
			<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
				<button type="submit" class="state">Registrar IPS</button>
			</div>
			<!-- Boton para ver resultados -->
			<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
				<button type="button" class="state" href="http://127.0.0.1:8050/">Ver los resultados</button>
			</div>
		</div>
		<!-- TERMINA: Botones -->

    </form>

    <br>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}

        {% for message in messages %}
            {% if "Error" not in message[1]: %}
                <div class="alert alert-info">
                <strong>Success! </strong> {{ message[1] }}
                </div>
            {% endif %}

            {% if "Error" in message[1]: %}
                <div class="alert alert-warning">
                {{ message[1] }}
                </div>
            {% endif %}
        {% endfor %}
            {% endif %}
        {% endwith %}

<br>

</div>
</body>
</html>
